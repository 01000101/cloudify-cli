tosca_definitions_version: cloudify_dsl_1_0

imports:
  - https://raw.githubusercontent.com/cloudify-cosmo/cloudify-manager/master/resources/rest-service/cloudify/types/types.yaml


node_types:
  cloudify.test.nodes.WindowsHost:
    derived_from: cloudify.nodes.Compute
    properties:
      install_agent:
        default: false
    interfaces:
      cloudify.interfaces.worker_installer:
        install:
          implementation: windows_agent_installer.windows_agent_installer.tasks.install
          inputs:
            cloudify_agent:
              default:
                user: { get_attribute: [SELF, username] }
                password: { get_attribute: [SELF, password] }
      cloudify.interfaces.plugin_installer:
        install:
          implementation: windows_plugin_installer.windows_plugin_installer.tasks.install
          inputs:
            cloudify_agent:
              default:
                user: { get_attribute: [SELF, username] }
                password: { get_attribute: [SELF, password] }

node_templates:
  win_host:
    type: cloudify.test.nodes.WindowsHost


